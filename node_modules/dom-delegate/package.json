{
  "name": "dom-delegate",
  "version": "2.0.0",
  "author": {
    "name": "FT Labs",
    "email": "enquiries@labs.ft.com",
    "url": "http://labs.ft.com/"
  },
  "description": "Create and manage a DOM event delegator.",
  "contributors": [
    {
      "name": "Matthew Caruana Galizia"
    },
    {
      "name": "Sam Giles"
    },
    {
      "name": "Matt Andrews"
    }
  ],
  "main": "lib/index.js",
  "repository": {
    "type": "git",
    "url": "git://github.com/ftlabs/ftdomdelegate.git"
  },
  "engines": {
    "node": "*"
  },
  "scripts": {
    "test": "./node_modules/.bin/grunt && ./node_modules/.bin/buster test"
  },
  "keywords": [
    "delegate",
    "dom",
    "events"
  ],
  "devDependencies": {
    "buster": "~0.6.2",
    "grunt": "~0.4.1",
    "grunt-cli": "~0.1.8",
    "grunt-buster": "~0.1.2",
    "grunt-browserify": "1.0.2",
    "grunt-contrib-uglify": "~0.1.2",
    "istanbul": "*",
    "buster-istanbul": "*",
    "grunt-contrib-jshint": "~0.10.0"
  },
  "license": "MIT",
  "homepage": "https://github.com/ftlabs/ftdomdelegate",
  "readme": "# ftdomdelegate [![Build Status](https://travis-ci.org/ftlabs/ftdomdelegate.svg?branch=master)](https://travis-ci.org/ftlabs/ftdomdelegate)\n\nFT's dom delegate library is a simple, easy-to-use component for binding to events on all target elements matching the given selector, irrespective of whether anything exists in the DOM at registration time or not. This allows developers to implement the [event delegation pattern](http://www.sitepoint.com/javascript-event-delegation-is-easier-than-you-think/).\n\nDelegate is developed by [FT Labs](http://labs.ft.com/), part of the Financial Times.\n\n## Compatibility ##\n\nThe library has been deployed as part of the [FT Web App](http://app.ft.com/) and is tried and tested on the following browsers:\n\n* Safari 5 +\n* Mobile Safari on iOS 3 +\n* Chrome 1 +\n* Chrome on iOS 5 +\n* Chrome on Android 4.0 +\n* Opera 11.5 +\n* Opera Mobile 11.5 +\n* Firefox 4 +\n* Internet Explorer 9 +\n* Android Browser on Android 2 +\n* PlayBook OS 1 +\n\n## Installation ##\n\n```\nnpm install dom-delegate\n```\n\nor\n\n```\nbower install dom-delegate\n```\n\nor\n\nDownload the [built version](http://wzrd.in/standalone/dom-delegate@latest).\n\n## Usage ##\n\nThe script must be loaded prior to instantiating a Delegate object.\n\nTo instantiate Delegate on the `body` and listen to some events:\n\n```js\nfunction handleButtonClicks(event) {\n  // Do some things\n}\n\nfunction handleTouchMove(event) {\n  // Do some other things\n}\n\nwindow.addEventListener('load', function() {\n  var delegate = new Delegate(document.body);\n  delegate.on('click', 'button', handleButtonClicks);\n\n  // Listen to all touch move\n  // events that reach the body\n  delegate.on('touchmove', handleTouchMove);\n\n}, false);\n```\n\nA cool trick to handle images that fail to load:\n\n```js\nfunction handleImageFail() {\n  this.style.display = 'none';\n}\n\nwindow.addEventListener('load', function() {\n  var delegate = new Delegate(document.body);\n  delegate.on('error', 'img', handleImageFail);\n}, false);\n```\n\nNote: as of 0.1.2 you do not need to provide a DOM element at the point of instantiation, it can be set later via the `root` method.\n\nAlso note: as of 0.2.0 you cannot specify more than one `eventType` in a single call to `off` or `on`.\n\n### Google Closure Compiler ###\n\nDelegate supports compilation with `ADVANCED_OPTIMIZATIONS` ('advanced mode'), which should reduce its size by about 70% (60% gzipped). Note that exposure of the `Delegate` variable isn't forced therefore you must compile it along with all of your code.\n\n## Tests ##\n\nTests are run using [buster](http://docs.busterjs.org/en/latest/) and sit in `test/`. To run the tests statically:\n\n```\n$ cd ftdomdelegate/\n$ ./node_modules/.bin/buster-static -c test/buster.js\nStarting server on http://localhost:8282/\n```\n\n...then point your browser to http://localhost:8282/.\n\n```\n$ ./node_modules/.bin/buster-server\nbuster-server running on http://localhost:1111\n```\n\nPoint your browser to http://localhost:1111 and capture it, then in another terminal tab:\n\n```\n$ ./node_modules/.bin/buster-test -c test/buster.js\n```\n\nCode coverage is generated automatically with [istanbul](https://github.com/gotwarlost/istanbul).  The report outputs to `lcov-report/index.html`.\n\n## API ##\n\n### .on(eventType[, selector], handler[, useCapture]) ###\n\n#### `eventType (string)` ####\n\nThe event to listen for e.g. `mousedown`, `mouseup`, `mouseout`, `error` or `click`.\n\n#### `selector (string|function)` ####\n\nAny kind of valid CSS selector supported by [`matchesSelector`](http://caniuse.com/matchesselector). Some selectors, like `#id` or `tag` will use optimized functions internally that check for straight matches between the ID or tag name of elements.\n\n`null` is also accepted and will match the root element set by `root()`.  Passing a handler function into `.on`'s second argument is equivalent to `.on(eventType, null, handler)`.\n\n#### `handler (function|boolean)` ####\n\nFunction that will handle the specified event on elements matching the given selector.  The function will receive two arguments: the native event object and the target element, in that order.\n\n#### `useCapture (boolean)` ####\n\nWhether or not to listen during the capturing (pass in `true`) or bubbling phase (pass in `false`).  If no value passed in, it will fallback to a 'sensible default', which is `true` for `error`, `blur` and `focus` events and `false` for all other types.\n\n### .off([eventType][, selector][, handler][, useCapture]) ###\n\nCalling `off` with no arguments will remove all registered listeners, effectively resetting the instance.\n\n#### `eventType (string)` ####\n\nRemove handlers for events matching this type considering the other parameters.\n\n#### `selector (string|function)` ####\n\nOnly remove listeners registered with the given selector, among the other arguments.\n\nIf null passed listeners registered to the root element will be removed.  Passing in a function into `off`'s second parameter is equivalent to `.off(eventType, null, handler[, useCapture])` (the third parameter will be ignored).\n\n#### `handler (function|boolean)` ####\n\nOnly remove listeners registered with the given handler function, among the other arguments.  If not provided, remove all handlers.\n\n#### `useCapture (boolean)` ####\n\nOnly remove listeners with `useCapture` set to the value passed in.  If not provided, remove listeners added with `useCapture` set to `true` and `false`.\n\n### .root([element]) ###\n\n#### `element (Node)` ####\n\nSet the delegate's root node.  If no element passed in the root node will be deleted and the event listeners will be removed.\n\n### .destroy() ###\n\nShort hand for off() and root(), ie both with no parameters. Used to reset the delegate object.\n\n## Credits and collaboration ##\n\nThe developers of ftdomdelegate are [Matthew Andrews](https://twitter.com/andrewsmatt) and [Matthew Caruana Galizia](http://twitter.com/mcaruanagalizia). Test engineering by [Sam Giles](https://twitter.com/SamuelGiles_). The API is influenced by [jQuery Live](http://api.jquery.com/live/). All open source code released by FT Labs is licenced under the MIT licence. We welcome comments, feedback and suggestions. Please feel free to raise an issue or pull request.\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/ftlabs/ftdomdelegate/issues"
  },
  "_id": "dom-delegate@2.0.0",
  "dist": {
    "shasum": "35105bcbc32a718ee2856957dbc2172273b73e8f"
  },
  "_from": "dom-delegate@",
  "_resolved": "https://registry.npmjs.org/dom-delegate/-/dom-delegate-2.0.0.tgz"
}
